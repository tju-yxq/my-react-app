
> voice-ai-agent-frontend@0.1.0 test
> react-scripts test --testPathPattern=src/pages/Settings.test.js --no-cache --silent --json

{"numFailedTestSuites":1,"numFailedTests":3,"numPassedTestSuites":0,"numPassedTests":3,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":6,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1747469124525,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["SettingsPage 组件"],"failureMessages":[],"fullName":"SettingsPage 组件 应该正确渲染标题和选项卡，并且不应有无障碍违规","location":null,"status":"passed","title":"应该正确渲染标题和选项卡，并且不应有无障碍违规"},{"ancestorTitles":["SettingsPage 组件"],"failureMessages":["Error: expect(received).toHaveNoViolations(expected)\n\nExpected the HTML found at $('input[type=\"text\"]') to have no violations:\n\n<input type=\"text\" style=\"width: 180px;\" value=\"https://api.example.com\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\nExpected the HTML found at $('input[type=\"number\"]') to have no violations:\n\n<input type=\"number\" min=\"5\" max=\"120\" style=\"width: 80px;\" value=\"30\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n    at Object.<anonymous> (/home/devbox/project/frontend/src/pages/Settings.test.js:94:34)"],"fullName":"SettingsPage 组件 点击选项卡应切换内容，并且不应有无障碍违规","location":null,"status":"failed","title":"点击选项卡应切换内容，并且不应有无障碍违规"},{"ancestorTitles":["SettingsPage 组件","外观和主题选项卡"],"failureMessages":[],"fullName":"SettingsPage 组件 外观和主题选项卡 内容应正确渲染，并不应有无障碍违规","location":null,"status":"passed","title":"内容应正确渲染，并不应有无障碍违规"},{"ancestorTitles":["SettingsPage 组件","外观和主题选项卡"],"failureMessages":[],"fullName":"SettingsPage 组件 外观和主题选项卡 点击暗色模式开关(mock)应调用toggleTheme","location":null,"status":"passed","title":"点击暗色模式开关(mock)应调用toggleTheme"},{"ancestorTitles":["SettingsPage 组件","高级设置选项卡"],"failureMessages":["Error: expect(received).toHaveNoViolations(expected)\n\nExpected the HTML found at $('input[type=\"text\"]') to have no violations:\n\n<input type=\"text\" style=\"width: 180px;\" value=\"https://api.example.com\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\nExpected the HTML found at $('input[type=\"number\"]') to have no violations:\n\n<input type=\"number\" min=\"5\" max=\"120\" style=\"width: 80px;\" value=\"30\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n    at Object.<anonymous> (/home/devbox/project/frontend/src/pages/Settings.test.js:164:36)"],"fullName":"SettingsPage 组件 高级设置选项卡 内容应正确渲染 (开发者用户), 并不应有无障碍违规","location":null,"status":"failed","title":"内容应正确渲染 (开发者用户), 并不应有无障碍违规"},{"ancestorTitles":["SettingsPage 组件","账户设置选项卡"],"failureMessages":["Error: expect(received).toHaveNoViolations(expected)\n\nExpected the HTML found at $('input[type=\"text\"]') to have no violations:\n\n<input type=\"text\" style=\"width: 180px;\" value=\"用户名\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\nExpected the HTML found at $('input[type=\"email\"]') to have no violations:\n\n<input type=\"email\" style=\"width: 180px;\" value=\"user@example.com\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\nExpected the HTML found at $('.sc-kAyceB.kUqwfY:nth-child(1) > input[type=\"checkbox\"]') to have no violations:\n\n<input type=\"checkbox\" checked=\"\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\nExpected the HTML found at $('.sc-kAyceB.kUqwfY:nth-child(2) > input[type=\"checkbox\"]') to have no violations:\n\n<input type=\"checkbox\" checked=\"\">\n\nReceived:\n\n\"Form elements must have labels (label)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element has no placeholder attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n────────\n\nExpected the HTML found at $('select') to have no violations:\n\n<select><option value=\"immediate\" selected=\"\">实时</option><option value=\"daily\">每日摘要</option><option value=\"weekly\">每周摘要</option></select>\n\nReceived:\n\n\"Select element must have an accessible name (select-name)\"\n\nFix any of the following:\n  Element does not have an implicit (wrapped) <label>\n  Element does not have an explicit <label>\n  aria-label attribute does not exist or is empty\n  aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n  Element has no title attribute\n  Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\nYou can find more information on this issue here: \nhttps://dequeuniversity.com/rules/axe/4.10/select-name?application=axeAPI\n    at Object.<anonymous> (/home/devbox/project/frontend/src/pages/Settings.test.js:182:36)"],"fullName":"SettingsPage 组件 账户设置选项卡 内容应正确渲染, 并不应有无障碍违规","location":null,"status":"failed","title":"内容应正确渲染, 并不应有无障碍违规"}],"endTime":1747469136273,"message":"  ● SettingsPage 组件 › 点击选项卡应切换内容，并且不应有无障碍违规\n\n    expect(received).toHaveNoViolations(expected)\n\n    Expected the HTML found at $('input[type=\"text\"]') to have no violations:\n\n    <input type=\"text\" style=\"width: 180px;\" value=\"https://api.example.com\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n    Expected the HTML found at $('input[type=\"number\"]') to have no violations:\n\n    <input type=\"number\" min=\"5\" max=\"120\" style=\"width: 80px;\" value=\"30\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n      92 |     expect(screen.queryByRole('tabpanel', { name: /外观和主题/i })).not.toBeInTheDocument();\n      93 |\n    > 94 |     expect(await axe(container)).toHaveNoViolations();\n         |                                  ^\n      95 |\n      96 |     const appearanceTab = screen.getByRole('tab', { name: /外观和主题/i });\n      97 |     fireEvent.click(appearanceTab);\n\n      at Object.<anonymous> (src/pages/Settings.test.js:94:34)\n\n  ● SettingsPage 组件 › 高级设置选项卡 › 内容应正确渲染 (开发者用户), 并不应有无障碍违规\n\n    expect(received).toHaveNoViolations(expected)\n\n    Expected the HTML found at $('input[type=\"text\"]') to have no violations:\n\n    <input type=\"text\" style=\"width: 180px;\" value=\"https://api.example.com\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n    Expected the HTML found at $('input[type=\"number\"]') to have no violations:\n\n    <input type=\"number\" min=\"5\" max=\"120\" style=\"width: 80px;\" value=\"30\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n      162 |       // expect(apiEndpointInput).toHaveValue('http://new.api');\n      163 |\n    > 164 |       expect(await axe(container)).toHaveNoViolations();\n          |                                    ^\n      165 |     });\n      166 |   });\n      167 |\n\n      at Object.<anonymous> (src/pages/Settings.test.js:164:36)\n\n  ● SettingsPage 组件 › 账户设置选项卡 › 内容应正确渲染, 并不应有无障碍违规\n\n    expect(received).toHaveNoViolations(expected)\n\n    Expected the HTML found at $('input[type=\"text\"]') to have no violations:\n\n    <input type=\"text\" style=\"width: 180px;\" value=\"用户名\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n    Expected the HTML found at $('input[type=\"email\"]') to have no violations:\n\n    <input type=\"email\" style=\"width: 180px;\" value=\"user@example.com\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n    Expected the HTML found at $('.sc-kAyceB.kUqwfY:nth-child(1) > input[type=\"checkbox\"]') to have no violations:\n\n    <input type=\"checkbox\" checked=\"\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n    Expected the HTML found at $('.sc-kAyceB.kUqwfY:nth-child(2) > input[type=\"checkbox\"]') to have no violations:\n\n    <input type=\"checkbox\" checked=\"\">\n\n    Received:\n\n    \"Form elements must have labels (label)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element has no placeholder attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/label?application=axeAPI\n\n    ────────\n\n    Expected the HTML found at $('select') to have no violations:\n\n    <select><option value=\"immediate\" selected=\"\">实时</option><option value=\"daily\">每日摘要</option><option value=\"weekly\">每周摘要</option></select>\n\n    Received:\n\n    \"Select element must have an accessible name (select-name)\"\n\n    Fix any of the following:\n      Element does not have an implicit (wrapped) <label>\n      Element does not have an explicit <label>\n      aria-label attribute does not exist or is empty\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\n      Element has no title attribute\n      Element's default semantics were not overridden with role=\"none\" or role=\"presentation\"\n\n    You can find more information on this issue here: \n    https://dequeuniversity.com/rules/axe/4.10/select-name?application=axeAPI\n\n      180 |       expect(screen.getByRole('button', { name: /更改密码/i })).toBeInTheDocument(); // 修改点：检查存在的按钮\n      181 |       \n    > 182 |       expect(await axe(container)).toHaveNoViolations();\n          |                                    ^\n      183 |     });\n      184 |\n      185 |     // test('点击退出登录按钮应调用logout', async () => {\n\n      at Object.<anonymous> (src/pages/Settings.test.js:182:36)\n","name":"/home/devbox/project/frontend/src/pages/Settings.test.js","startTime":1747469125421,"status":"failed","summary":""}],"wasInterrupted":false}