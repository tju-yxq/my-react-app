# Echo 前端测试工具

该目录包含用于测试 Echo 前端应用的各种测试工具和实用程序。

## 目录结构

- `index.js` - 测试工具主入口文件
- `Logger.js` - 日志记录工具
- `MockSpeech.js` - 语音识别模拟工具
- `TestRunner.js` - 端到端测试运行器组件
- `/tests/` - 测试场景和用例目录
- `/e2e/` - 端到端测试目录

## 使用方法

### 运行端到端测试

1. 启动开发服务器：

```bash
./start-dev-server.sh
```

2. 访问测试页面：

```
http://localhost:3000/test
```

3. 在测试页面中选择要运行的测试，然后点击"运行选中的测试"按钮。

### 运行单元测试

使用以下命令运行单元测试：

```bash
cd frontend
npm test
```

要运行特定的测试文件或测试套件：

```bash
npm test -- -t "组件名称"
```

## 测试类型

### 单元测试

单元测试用于测试单个组件或函数的功能，使用 Jest 和 React Testing Library 实现。每个组件的测试文件位于组件目录下的 `__tests__` 文件夹中。

### 端到端测试

端到端测试用于测试整个应用流程，模拟用户交互和页面导航。端到端测试包括：

- 服务视图模式切换测试
- 服务排序功能测试
- 语音交互流程测试
- 认证流程测试
- 主题切换测试

## 编写新测试

### 添加新的单元测试

1. 在组件目录下的 `__tests__` 文件夹中创建一个新的测试文件，命名为 `组件名.test.js`。
2. 使用 React Testing Library 编写测试代码。
3. 运行 `npm test` 验证测试。

### 添加新的端到端测试

1. 在 `e2e` 目录中创建一个新的测试文件。
2. 按照现有测试的格式定义测试步骤和验证逻辑。
3. 在 `index.js` 中导入并注册新的测试。
4. 使用测试页面运行测试。

## 故障排除

如果遇到测试相关问题，请检查：

1. 确保所有依赖项已正确安装：`npm install`
2. 检查开发服务器是否正在运行
3. 查看浏览器控制台是否有错误信息
4. 检查测试日志是否有详细错误信息 